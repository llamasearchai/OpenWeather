<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
</head>
<body>
    <header>
        <h1>OpenWeather</h1>
        <nav>
            <ul>
                <li><a href="/">Forecast</a></li>
                <li><a href="/analyze" class="active">Analyze</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <section class="analysis-result">
            <h2>Weather Analysis</h2>
            
            <div class="query-info">
                <h3>Your Question</h3>
                <p class="query-text">{{ query }}</p>
                <p class="location">Location: {{ location }}</p>
            </div>
            
            <div class="llm-analysis">
                <h3>Answer ({{ result.llm_provider_used }}/{{ result.llm_model_used }})</h3>
                <div class="analysis-content">
                    {{ result.response_text | safe }}
                </div>
                
                {% if result.tokens_used %}
                <p class="tokens">
                    Tokens: {{ result.tokens_used.prompt_tokens }} prompt + 
                    {{ result.tokens_used.completion_tokens }} completion = 
                    {{ result.tokens_used.total_tokens }} total
                </p>
                {% endif %}
            </div>
            
            <div class="actions">
                <a href="/analyze" class="btn">Ask Another Question</a>
                <a href="/" class="btn">Get Forecast</a>
            </div>
        </section>
    </main>
    
    <footer>
        <p>OpenWeather - A Complete Weather Analytics Platform</p>
    </footer>
</body>
</html>